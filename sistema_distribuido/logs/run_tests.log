[2025-10-04 14:13:04] ğŸš€ Iniciando suite de pruebas
[2025-10-04 14:13:04] ğŸ”„ Paso 1: Levantar servicios bÃ¡sicos (GC, Actores)
 Container gc  Running
 Container actor_ren  Running
 Container actor_dev  Running
[2025-10-04 14:13:05] âœ… Paso 1 completado: Levantar servicios bÃ¡sicos (GC, Actores)
[2025-10-04 14:13:05] â³ Esperando inicializaciÃ³n de servicios...
[2025-10-04 14:13:10] ğŸ”„ Paso 2: Verificar IPs internas (â‰¥2 computadores)
ğŸ” Obteniendo IPs internas de los contenedores...
ğŸ” Obteniendo IP para gc...
gc IP: 172.19.0.2
ğŸ” Obteniendo IP para actor_dev...
actor_dev IP: 172.19.0.4
ğŸ” Obteniendo IP para actor_ren...
actor_ren IP: 172.19.0.3
ğŸ” Obteniendo IP para ps...
âš ï¸  Contenedor ps no estÃ¡ corriendo
ğŸ” Obteniendo IP para tester...
âš ï¸  Contenedor tester no estÃ¡ corriendo

ğŸ“Š Resumen de IPs obtenidas:
================================
ğŸŒ IP Ãºnica: 172.19.0.2
ğŸŒ IP Ãºnica: 172.19.0.3
ğŸŒ IP Ãºnica: 172.19.0.4

ğŸ“ˆ Total de IPs Ãºnicas:        3
ğŸ“ˆ Total de contenedores con IP: 3
âœ… Criterio cumplido: â‰¥2 computadores (IPs distintas)

ğŸ“ IPs guardadas en: ./logs/ips.txt
âœ… VerificaciÃ³n de IPs completada
[2025-10-04 14:13:10] âœ… Paso 2 completado: Verificar IPs internas (â‰¥2 computadores)
[2025-10-04 14:13:10] ğŸ”„ Paso 3: Verificar que GC estÃ© listo
ğŸ”„ Esperando que el Gestor de Carga estÃ© listo...
ğŸ“ Endpoint: tcp://gc:5001
â±ï¸  MÃ¡ximo 30 intentos con intervalo de 1s
ğŸ” Intento 1/30: Probando conexiÃ³n al GC...
âœ… GC responde: {'status': 'ERROR', 'message': 'OperaciÃ³n invÃ¡lida: TEST_CONNECTION. Solo se permiten RENOVACION y DEVOLUCION'}
âœ… GC estÃ¡ listo y respondiendo
ğŸ‰ Gestor de Carga estÃ¡ listo despuÃ©s de 1 intentos
[2025-10-04 14:13:11] âœ… Paso 3 completado: Verificar que GC estÃ© listo
[2025-10-04 14:13:11] ğŸ§ª Ejecutando Test 1: End-to-end bÃ¡sico
[2025-10-04 14:13:11] ğŸ”„ Paso 4: Test end-to-end (sin PS)
 Container gc  Running
============================= test session starts ==============================
platform linux -- Python 3.10.18, pytest-8.4.2, pluggy-1.6.0 -- /usr/local/bin/python
cachedir: .pytest_cache
rootdir: /app
collecting ... collected 3 items

tests/test_end_to_end.py::TestEndToEnd::test_devolucion_end_to_end PASSED [ 33%]
tests/test_end_to_end.py::TestEndToEnd::test_renovacion_end_to_end PASSED [ 66%]
tests/test_end_to_end.py::TestEndToEnd::test_operacion_invalida PASSED   [100%]

============================== 3 passed in 14.27s ==============================
[2025-10-04 14:13:26] âœ… Paso 4 completado: Test end-to-end (sin PS)
[2025-10-04 14:13:26] âœ… Test 1 PASSED: End-to-end bÃ¡sico
[2025-10-04 14:13:26] ğŸ§ª Ejecutando Test 2: Pub/Sub visibilidad
[2025-10-04 14:13:26] ğŸ”„ Paso 5: Test pub/sub visibilidad
 Container gc  Running
============================= test session starts ==============================
platform linux -- Python 3.10.18, pytest-8.4.2, pluggy-1.6.0 -- /usr/local/bin/python
cachedir: .pytest_cache
rootdir: /app
collecting ... collected 3 items

tests/test_pubsub_visibility.py::TestPubSubVisibility::test_pubsub_devolucion_visibility PASSED [ 33%]
tests/test_pubsub_visibility.py::TestPubSubVisibility::test_pubsub_renovacion_visibility PASSED [ 66%]
tests/test_pubsub_visibility.py::TestPubSubVisibility::test_pubsub_multiple_topics PASSED [100%]

============================== 3 passed in 15.31s ==============================
[2025-10-04 14:13:42] âœ… Paso 5 completado: Test pub/sub visibilidad
[2025-10-04 14:13:42] âœ… Test 2 PASSED: Pub/Sub visibilidad
[2025-10-04 14:13:42] ğŸ§ª Ejecutando Test 3: Workload con archivo
[2025-10-04 14:13:42] ğŸ”„ Levantando PS en perfil demo...
[2025-10-04 14:13:42] ğŸ”„ Paso 6a: Levantar PS en perfil demo
 Container gc  Running
 Container actor_ren  Running
 Container actor_dev  Running
 Container ps  Creating
 Container ps  Created
 Container ps  Starting
 Container ps  Started
[2025-10-04 14:13:42] âœ… Paso 6a completado: Levantar PS en perfil demo
[2025-10-04 14:13:45] ğŸ”„ Paso 6b: Test workload con archivo
 Container gc  Running
============================= test session starts ==============================
platform linux -- Python 3.10.18, pytest-8.4.2, pluggy-1.6.0 -- /usr/local/bin/python
cachedir: .pytest_cache
rootdir: /app
collecting ... collected 1 item

tests/test_file_workload.py::TestFileWorkload::test_file_workload_processing SKIPPED [100%]

============================== 1 skipped in 0.03s ==============================
[2025-10-04 14:13:46] âœ… Paso 6b completado: Test workload con archivo
[2025-10-04 14:13:46] âœ… Test 3 PASSED: Workload con archivo
[2025-10-04 14:13:46] ğŸ”„ Paso 7: Verificar estado final de contenedores
[2025-10-04 14:13:46] âœ… Paso 7 completado: Verificar estado final de contenedores
[2025-10-04 14:13:46] ğŸ”„ Paso 8: Recolectar evidencias del sistema
ğŸ“Š Recolectando evidencias del sistema...
â° Timestamp: Sat Oct  4 14:13:46 -05 2025
[2025-10-04 14:13:46] ğŸ” Iniciando recolecciÃ³n de evidencias...
[2025-10-04 14:13:46] ğŸ“‹ Recolectando estado de contenedores...
[2025-10-04 14:13:47] ğŸŒ Recolectando IPs internas...
[2025-10-04 14:13:47] ğŸ“ Recolectando logs de servicios...
[2025-10-04 14:13:47] âœ… Logs del GC recolectados
[2025-10-04 14:13:47] âœ… Logs del Actor de DevoluciÃ³n recolectados
[2025-10-04 14:13:47] âœ… Logs del Actor de RenovaciÃ³n recolectados
[2025-10-04 14:13:47] âœ… Logs del PS recolectados
[2025-10-04 14:13:47] ğŸ“š Recolectando estado de la base de datos...
[2025-10-04 14:13:47] ğŸ“¸ Snapshot 'antes' creado
[2025-10-04 14:13:47] ğŸ“¸ Estado actual de libros.json recolectado
[2025-10-04 14:13:47] ğŸ” Generando diferencias de libros.json...
[2025-10-04 14:13:47] âœ… Diferencias generadas
[2025-10-04 14:13:47] ğŸ“„ Recolectando archivo de solicitudes...
[2025-10-04 14:13:47] âœ… Archivo de solicitudes recolectado
[2025-10-04 14:13:47] ğŸ“Š Analizando mÃ©tricas...
[2025-10-04 14:13:47] âœ… MÃ©tricas analizadas: OK=21, ERROR=11
[2025-10-04 14:13:47] ğŸ“‹ Generando resumen...
[2025-10-04 14:13:47] âœ… Resumen generado: ./logs/evidence/resumen.txt

ğŸ“Š ===== RESUMEN DE EVIDENCIAS =====
ğŸ“ Directorio: ./logs/evidence
ğŸ“‹ Archivos recolectados:       13
ğŸ’¾ TamaÃ±o:  80K

ğŸ“ˆ MÃ©tricas principales:
   operaciones_ok: 21
   operaciones_error: 11
   publicaciones_devolucion: 10
   publicaciones_renovacion: 11

âœ… RecolecciÃ³n de evidencias completada
ğŸ“ Evidencias disponibles en: ./logs/evidence
[2025-10-04 14:13:47] âœ… Paso 8 completado: Recolectar evidencias del sistema
[2025-10-04 14:13:47] ğŸ“Š Generando resumen final de pruebas...
[2025-10-04 14:13:47] ğŸ‰ TODOS LOS TESTS PASARON (3/3)
[2025-10-04 14:13:47] âœ… Requisitos Entrega #1 verificados
